# 本地调试命令记录

## 运行环境
node: `22`

## 开发运行

- 容器运行
  ```bash
  docker run -dit --name Node_Code --restart=no \
  --cpus=1 --memory=2G --network host \
  -w /app node:22.20.0-alpine3.22
  ```
- 复制代码
  ```bash
  docker cp . Node_Code:/app/
  ```
- 进入容器
  ```bash
  docker exec -it Node_Code /bin/ash
  ```
- NPM 换源
  ```bash
  npm config set registry https://registry.npmmirror.com
  ```
- 安装依赖
  ```bash
  npm i && npm i terser --save-dev
  ```
- 运行
  ```bash
  npm run dev
  ```
- 编译
  ```bash
  npm run build
  ```
- 复制编译文件到容器外测试
  ```bash
  docker cp Node_Code:/app/docs ./dist
  ```
- 删除容器
  ```bash
  docker rm -f Node_Code
  ```

## 构建镜像测试
```bash
docker run --rm -it \
--restart=no \
--name Ce_Shi \
-p 5152:5152 \
firfe/idle-xiuxian:1.0.5
```

